<div>MEDLINE.COM</div>
<div class="intlHeader">Account Registration</div>

<div class="col-md-8 order-md-1">

    <div class="alert alert-danger" *ngIf="submitted && !registerForm.valid" role="alert">
        Please review errors.
    </div>

    <h4 class="mb-3">USER INFORMATION</h4>
    <form class="needs-validation" [formGroup]="registerForm">
        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="firstName">FIRST NAME</label>
                <input type="text" class="form-control" formControlName="firstName" placeholder=""
                    [ngClass]="{ 'is-invalid': submitted && f.firstName.errors }" required>
                <div *ngIf="f.firstName.errors?.required" class="invalid-feedback">
                    First name is a required field.
                </div>
            </div>
            <div class="col-md-6 mb-3">
                <label for="lastName">LAST NAME</label>
                <input type="text" class="form-control" formControlName="lastName" placeholder=""
                    [ngClass]="{ 'is-invalid': submitted && f.lastName.errors }" required>
                <div *ngIf="f.lastName.errors?.required" class="invalid-feedback">
                    Last name is a required field.
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-4 mb-2">
                <label for="phone">PHONE</label>
                <input type="tel" class="form-control" formControlName="phone" placeholder=""
                    [ngClass]="{ 'is-invalid': submitted && f.phone.errors }" required>
                <div *ngIf="f.phone.errors?.required" class="invalid-feedback">
                    Phone is a required field.
                </div>
            </div>
            <div class="col-md-2 mb-2">
                <label for="ext">EXT</label>
                <input type="text" class="form-control" formControlName="ext" placeholder="">
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="email">EMAIL</label>
                <input type="email" class="form-control" formControlName="email" placeholder=""
                    [ngClass]="{ 'is-invalid': submitted && f.email.errors }">
                <div *ngIf="f.email.errors?.required" class="invalid-feedback">
                    Email is a required field.
                </div>
            </div>
        </div>

        <div class="text-right">
            <button class="btn btn-primary mr-1" type="submit"
                (click)="openModal(registerUserModal, registerForm.value)">Next</button>
        </div>
    </form>
</div>

<ng-template #registerUserModal let-modal>
    <div class="modal-header">
        <h5 class="modal-title" id="editProfileLabel">User Information</h5>
        <button type="button" class="close" (click)="dismiss()" routerLink="/confirmation" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>

    <div class="modal-body">
        User has been created successfully with below details

        <div class="form-group row">
            <label for="staticEmail" class="col-sm-2 col-form-label">User Name:</label>
            <div class="col-sm-10">
                {{registerFormData.firstName}} {{registerFormData.lastName}}
            </div>
        </div>

        <div class="form-group row">
            <label for="staticEmail" class="col-sm-2 col-form-label">Phone:</label>
            <div class="col-sm-10">
                {{registerFormData.phone}} {{registerFormData.ext}}
            </div>
        </div>

        <div class="form-group row">
            <label for="staticEmail" class="col-sm-2 col-form-label">Email:</label>
            <div class="col-sm-10">
                {{registerFormData.email}}
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-success" routerLink="/confirmation" (click)="dismiss()">ok</button>
    </div>
</ng-template>
